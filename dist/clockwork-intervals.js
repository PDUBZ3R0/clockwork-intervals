const clockwork={intervals:(()=>{const e=(e=>{let t=0,s={};return{id(e){const s=`${t}:${btoa(e.toString().replace(/\s/g,"").substring(0,24))}`;return t++,s},save({task:e,repeats:t}){const n=this.id(e);return s[n]={task:e,repeats:t},n},load:e=>s[e],remove(e){s[e]=void 0}}})();if("undefined"!=typeof Worker){return function(e){let t=function(s){const n=new Blob(['{let e={};self.onmessage=function({id:s,type:t,milliseconds:a}){switch(t){case"setTimeout":setTimeout((function(){self.postMessage(s)}),a);break;case"setInterval":e[s]=setInterval((function(){self.postMessage(s)}),a);break;case"clearInterval":clearInterval(e[s])}}}'],{type:"application/javascript"});return t=new Worker(URL.createObjectURL(n)),t.addEventListener("message",(function(t){const{task:s,repeats:n}=e.load(t.id);n||e.remove(t.id),s()})),t}();return{setInterval(s,n){const r=e.save(s,!0);return t.postMessage({id:r,type:"setInterval",milliseconds:n}),r},setTimeout(s,n){const r=e.save(s,!1);return t.postMessage({id:r,type:"setTimeout",milliseconds:n}),r},clearInterval(e){t.postMessage({id:e,type:"clearInterval"})},clearTimeout(e){t.postMessage({id:e,type:"clearInterval"})}}}(e)}return function(e){let t=!1,s=!1,n={},r=0;function a(e){if(!s){s=!0;for(let s in n)if(n[s].execute<=e){const e=n[s].task;n[s].repeat?n[s].execute+=n[s].repeat:(n[s]=void 0,r--,t=r>0),e()}s=!1}}function o(s,o,i){let c=e.id(s),l=(new Date).getTime();n[c]({execute:l+o,repeat:i?o:void 0,task:s}),r++,t=!0,function(){for(;t;)requestAnimationFrame(a)}()}function i(e){s||(s=!0,n[e]=void 0,r--,t=r>0,s=!1)}return{setTimeout:(e,t)=>o(e,t,!1),setInterval:(e,t)=>o(e,t,!0),clearTimeout:i,clearInterval:i}}(e)})()};