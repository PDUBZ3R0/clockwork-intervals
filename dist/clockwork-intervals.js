const clockwork={intervals:(()=>{const e=(e=>{let t=0,n={};return{id(e){const n=`${t}:${btoa(e.toString().replace(/\s/g,"").substring(0,24))}`;return t++,n},save({task:e,repeats:t}){const r=this.id(e);return n[r]={task:e,repeats:t},r},load:e=>n[e],remove(e){n[e]=void 0}}})();if("undefined"!=typeof Worker){return function(e){let t=function(n){const r=new Blob([n],{type:"application/javascript"});return t=new Worker(URL.createObjectURL(r)),t.addEventListener("message",(function(t){const{task:n,repeats:r}=e.load(t.id);r||e.remove(t.id),n()})),t}("undefined");return{setInterval(n,r){const s=e.save(n,!0);return t.postMessage({id:s,type:"setInterval",milliseconds:r}),s},setTimeout(n,r){const s=e.save(n,!1);return t.postMessage({id:s,type:"setTimeout",milliseconds:r}),s},clearInterval(e){t.postMessage({id:e,type:"clearInterval"})},clearTimeout(e){t.postMessage({id:e,type:"clearInterval"})}}}(e)}return function(e){let t=!1,n=!1,r={},s=0;function o(e){if(!n){n=!0;for(let n in r)if(r[n].execute<=e){const e=r[n].task;r[n].repeat?r[n].execute+=r[n].repeat:(r[n]=void 0,s--,t=s>0),e()}n=!1}}function i(n,i,a){let c=e.id(n),u=(new Date).getTime();r[c]({execute:u+i,repeat:a?i:void 0,task:n}),s++,t=!0,function(){for(;t;)requestAnimationFrame(o)}()}function a(e){n||(n=!0,r[e]=void 0,s--,t=s>0,n=!1)}return{setTimeout:(e,t)=>i(e,t,!1),setInterval:(e,t)=>i(e,t,!0),clearTimeout:a,clearInterval:a}}(e)})()};